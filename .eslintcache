[{"C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\index.js":"1","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\reportWebVitals.js":"2","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\App.js":"3","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\Books.js":"4","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\Book.js":"5","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\context.js":"6","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\BooksContainer.js":"7","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\Navbar.js":"8","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\Sidebar.js":"9","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\Cart.js":"10","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\CartItem.js":"11","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\BookDetailsModal.js":"12"},{"size":580,"mtime":1611573059552,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":499162500000,"results":"15","hashOfConfig":"14"},{"size":404,"mtime":1611688742925,"results":"16","hashOfConfig":"14"},{"size":917,"mtime":1611665229217,"results":"17","hashOfConfig":"14"},{"size":1196,"mtime":1611734801835,"results":"18","hashOfConfig":"14"},{"size":4804,"mtime":1611731586522,"results":"19","hashOfConfig":"14"},{"size":1260,"mtime":1611665249839,"results":"20","hashOfConfig":"14"},{"size":526,"mtime":1611660135685,"results":"21","hashOfConfig":"14"},{"size":925,"mtime":1611664677439,"results":"22","hashOfConfig":"14"},{"size":1087,"mtime":1611662070054,"results":"23","hashOfConfig":"14"},{"size":1085,"mtime":1611659882011,"results":"24","hashOfConfig":"14"},{"size":1151,"mtime":1611732172899,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1fsmzwc",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"28"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"28"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\index.js",[],["55","56"],"C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\reportWebVitals.js",[],"C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\App.js",[],"C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\Books.js",["57"],"import React from 'react';\r\nimport { useGlobalContext } from '../context';\r\nimport Book from './Book';\r\nconst Books = ({books, loading}) => {\r\n    const { categoryFilters } = useGlobalContext()\r\n    // Check if, after loading is done, fetched data returned an array\r\n    if (!loading && Array.isArray(books.booksList)) {\r\n        return (\r\n            <div className=\"book-list\">\r\n                {books.booksList.map((book) => {\r\n                    if (categoryFilters === null) {\r\n                        return <Book key={book.id}  {...book} />\r\n                    }\r\n                    else if (book.category === categoryFilters) {\r\n                        return <Book key={book.id}  {...book} />\r\n                    }\r\n                    \r\n                })}\r\n            </div>\r\n        )\r\n    }\r\n    return <h1 className=\"no-books-notification\">No books available.</h1>\r\n  \r\n}\r\n\r\nexport default Books;\r\n","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\Book.js",[],"C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\context.js",["58","59","60","61"],"import React, { useState, useContext, useEffect } from 'react'\r\n\r\nconst AppContext = React.createContext()\r\n\r\nconst AppProvider = ({children}) => {\r\n    const [loading, setLoading] = useState(true)\r\n    const [books, setBooks] = useState({})\r\n    const [cartItems, setCartItems] = useState([])\r\n    const [isCartOpen, setIsCartOpen] = useState(false)\r\n    const [total, setTotal] = useState(0)\r\n    const [amount, setAmount] = useState(0)\r\n    const [categoryFilters, setCategoryFilters] = useState(null)\r\n    const [bookDetails, setBookDetails] = useState({})\r\n    const [isDetailsModalOpen, setIsDetailsModalOpen] = useState(false)\r\n    const [modalLocation, setModalLocation] = useState({})\r\n\r\n    const handleToggleCart = () => {\r\n        setIsCartOpen(!isCartOpen)\r\n    }\r\n\r\n    const handleChangeCategory = (e) => {\r\n        e.target.parentElement.childNodes.forEach((child) => {\r\n            child.classList.remove(\"category-item-active\")\r\n        })\r\n        if (e.target.textContent === \"All Categories\") {\r\n            setCategoryFilters(null)\r\n        } else {\r\n            setCategoryFilters(e.target.textContent)\r\n            e.target.classList.add(\"category-item-active\")\r\n        }\r\n    }\r\n\r\n    const handleViewDetails = (id) => {\r\n        let targetBook = books.booksList[id - 1]\r\n        setBookDetails(targetBook)\r\n    }\r\n\r\n    const handleOpenModal = (coordinates) => {\r\n        setModalLocation(coordinates)\r\n        setIsDetailsModalOpen(true)\r\n    }\r\n\r\n    window.onscroll = () => {\r\n        if (isDetailsModalOpen) {\r\n            setIsDetailsModalOpen(false)\r\n        }\r\n    }\r\n\r\n    const handleAddItemToCart = (e) => {\r\n        const newCartItemTitle = e.target.parentElement.children[0].textContent\r\n        const newCartItemPrice = e.target.parentElement.children[1].textContent\r\n\r\n        // Check if item is already in the cart\r\n        let isSameItem = false\r\n        cartItems.map((item) => {\r\n            if (item.cartItemTitle === newCartItemTitle) {\r\n                alert(\"Item is already in the cart!\")\r\n                isSameItem = true\r\n            }\r\n        })\r\n        if (isSameItem) {\r\n            return\r\n        } \r\n        const newCartItem = {\r\n            cartItemTitle: newCartItemTitle,\r\n            cartItemPrice: newCartItemPrice,\r\n            cartItemAmount: 1\r\n        }\r\n        setCartItems([...cartItems, newCartItem])\r\n    }\r\n\r\n    const handleRemoveCartItem = (id) => {\r\n        setCartItems(cartItems.filter((item) => cartItems.indexOf(item) !== id))\r\n    }\r\n\r\n    const increaseAmount = (id) => {\r\n        for (let i = 0; i < cartItems.length; i++) {\r\n            if (i === id) {\r\n                let newCartItemAmount = cartItems[i].cartItemAmount + 1\r\n                let updatedCartItem = {...cartItems[i], cartItemAmount: newCartItemAmount}\r\n                let newCartItems = cartItems\r\n                newCartItems[i] = updatedCartItem\r\n                setCartItems([...newCartItems])\r\n            }\r\n        }\r\n    }\r\n    const decreaseAmount = (id) => {\r\n        for (let i = 0; i < cartItems.length; i++) {\r\n            if (i === id) {\r\n                let newCartItemAmount = cartItems[i].cartItemAmount - 1\r\n                // Prevent amounts less than 1\r\n                if (newCartItemAmount < 1) {\r\n                    newCartItemAmount = 1\r\n                } \r\n                let updatedCartItem = {...cartItems[i], cartItemAmount: newCartItemAmount}\r\n                let newCartItems = cartItems\r\n                newCartItems[i] = updatedCartItem\r\n                setCartItems([...newCartItems])\r\n            }\r\n        }\r\n    }\r\n\r\n    const getTotalAmount = () => {\r\n        let updatedAmount = 0\r\n        cartItems.map((item) => {\r\n            updatedAmount += item.cartItemAmount\r\n        })\r\n        setAmount(updatedAmount)\r\n    }\r\n\r\n    const getTotal = () => {\r\n        let newTotal = 0\r\n        cartItems.map((item) => {\r\n            newTotal += item.cartItemPrice.replace('$', '') * item.cartItemAmount\r\n        })\r\n        setTotal(newTotal.toFixed(2))\r\n    }\r\n\r\n    useEffect(() => {\r\n        getTotalAmount()\r\n        getTotal()\r\n    }, [cartItems])\r\n\r\n    const handleConfirmOrder = () => {\r\n        alert(`Your order of $${total} is confirmed`)\r\n        setCartItems([])\r\n    }\r\n\r\n    return <AppContext.Provider value={{loading, setLoading, books, setBooks, handleChangeCategory, handleAddItemToCart, cartItems, handleToggleCart, isCartOpen, handleRemoveCartItem, amount, total, increaseAmount, decreaseAmount, handleConfirmOrder, categoryFilters, handleViewDetails, isDetailsModalOpen, setIsDetailsModalOpen, bookDetails, modalLocation, handleOpenModal}}>{children}</AppContext.Provider>\r\n}\r\n\r\nexport const useGlobalContext = () => {\r\n    return useContext(AppContext)\r\n}\r\n\r\nexport { AppContext, AppProvider }","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\BooksContainer.js",["62"],"import React, { useEffect } from 'react'\r\nimport Books from './Books'\r\nimport Sidebar from './Sidebar'\r\nimport { useGlobalContext } from '../context';\r\n\r\nconst BooksContainer = () => {\r\n    const { loading, setLoading, books, setBooks } = useGlobalContext()\r\n    \r\n    const fetchData = async () => {\r\n        setLoading(true);\r\n    \r\n        try {\r\n          const response = await fetch('database.json'\r\n          ,{\r\n            headers : { \r\n              'Content-Type': 'application/json',\r\n              'Accept': 'application/json'\r\n             }\r\n          })\r\n          const fetchedBooks = await response.json()\r\n          setLoading(false)\r\n          setBooks(fetchedBooks)\r\n        } catch (error) {\r\n          setLoading(false);\r\n          console.log(error);\r\n        }\r\n      }\r\n    \r\n      useEffect(() => {\r\n        fetchData();\r\n      }, []);\r\n    \r\n      if (loading) {\r\n        return (\r\n          <div className=\"books-container\">Loading...</div>\r\n        )\r\n      }\r\n      return (\r\n        <main>\r\n          <Sidebar />\r\n          <div className=\"books-container\">\r\n            <h1>E-books</h1>\r\n          <Books books={books} loading={loading} />\r\n        </div>\r\n        </main>\r\n        \r\n      )\r\n}\r\nexport default BooksContainer\r\n","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\Navbar.js",[],"C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\Sidebar.js",["63"],"import React from 'react'\r\nimport { useGlobalContext } from '../context'\r\n\r\nconst Sidebar = () => {\r\n    const { books, handleChangeCategory } = useGlobalContext()\r\n    let categories = []\r\n    if (Array.isArray(books.booksList)) {\r\n        books.booksList.map((book, i) => {\r\n            categories.push(book.category)\r\n        })\r\n    }\r\n    let uniqueCategories = [...new Set(categories)]\r\n    return (\r\n        <aside className=\"sidebar\">\r\n            <ul className=\"categories-list\">\r\n                <li className=\"category-item\" onClick={(e) => handleChangeCategory(e)}>All Categories</li>\r\n                {\r\n                    uniqueCategories.sort().map((category, i) => {\r\n                        return <li key={i} className=\"category-item\" onClick={(e) => handleChangeCategory(e)} >{category}</li>\r\n                    })\r\n                }\r\n            </ul>\r\n        </aside>\r\n    )\r\n}\r\nexport default Sidebar","C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\Cart.js",[],"C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\CartItem.js",[],"C:\\Users\\Stefan\\Desktop\\Projects\\1. Frontend\\5. React Projects\\21. Book Store\\project\\src\\components\\BookDetailsModal.js",[],{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","severity":1,"message":"69","line":10,"column":45,"nodeType":"70","messageId":"71","endLine":10,"endColumn":47},{"ruleId":"68","severity":1,"message":"72","line":55,"column":30,"nodeType":"70","messageId":"73","endLine":55,"endColumn":32},{"ruleId":"68","severity":1,"message":"72","line":105,"column":30,"nodeType":"70","messageId":"73","endLine":105,"endColumn":32},{"ruleId":"68","severity":1,"message":"72","line":113,"column":30,"nodeType":"70","messageId":"73","endLine":113,"endColumn":32},{"ruleId":"74","severity":1,"message":"75","line":122,"column":8,"nodeType":"76","endLine":122,"endColumn":19,"suggestions":"77"},{"ruleId":"74","severity":1,"message":"78","line":31,"column":10,"nodeType":"76","endLine":31,"endColumn":12,"suggestions":"79"},{"ruleId":"68","severity":1,"message":"72","line":8,"column":39,"nodeType":"70","messageId":"73","endLine":8,"endColumn":41},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],"array-callback-return","Array.prototype.map() expects a value to be returned at the end of arrow function.","ArrowFunctionExpression","expectedAtEnd","Array.prototype.map() expects a return value from arrow function.","expectedInside","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'getTotal' and 'getTotalAmount'. Either include them or remove the dependency array.","ArrayExpression",["82"],"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.",["83"],"no-global-assign","no-unsafe-negation",{"desc":"84","fix":"85"},{"desc":"86","fix":"87"},"Update the dependencies array to be: [cartItems, getTotal, getTotalAmount]",{"range":"88","text":"89"},"Update the dependencies array to be: [fetchData]",{"range":"90","text":"91"},[4128,4139],"[cartItems, getTotal, getTotalAmount]",[858,860],"[fetchData]"]